import
  std / unittest

import
  micro_blog

suite "micro-blog tests":
  test "English language short":
    check truncate("Hi") == "Hi"
  test "English language long":
    check truncate("Hello there") == "Hello"
  test "German language short (broth)":
    check truncate("brÃ¼he") == "brÃ¼he"
  test "German language long (bear carpet â†’ beards)":
    check truncate("BÃ¤rteppich") == "BÃ¤rte"
  test "Bulgarian language short (good)":
    check truncate("Ğ”Ğ¾Ğ±ÑŠÑ€") == "Ğ”Ğ¾Ğ±ÑŠÑ€"
  test "Greek language short (health)":
    check truncate("Ï…Î³ÎµÎ¹Î¬") == "Ï…Î³ÎµÎ¹Î¬"
  test "Maths short":
    check truncate("a=Ï€rÂ²") == "a=Ï€rÂ²"
  test "Maths long":
    check truncate("âˆ…âŠŠâ„•âŠŠâ„¤âŠŠâ„šâŠŠâ„âŠŠâ„‚") == "âˆ…âŠŠâ„•âŠŠâ„¤"
  test "English and emoji short":
    check truncate("Fly ğŸ›«") == "Fly ğŸ›«"
  test "Emoji short":
    check truncate("ğŸ’‡") == "ğŸ’‡"
  test "Emoji long":
    check truncate("â„ğŸŒ¡ğŸ¤§ğŸ¤’ğŸ¥ğŸ•°ğŸ˜€") == "â„ğŸŒ¡ğŸ¤§ğŸ¤’ğŸ¥"
  test "Royal Flush?":
    check truncate("ğŸƒğŸ‚¸ğŸƒ…ğŸƒ‹ğŸƒğŸƒğŸƒŠ") == "ğŸƒğŸ‚¸ğŸƒ…ğŸƒ‹ğŸƒ"
